language: node_js
node_js: "node"
cache: npm
env:
  - PYTHON=/usr/bin/python2.7
install:
  - npm ci
script:
  - npm run build
  - echo '$DOCKER_PASSWORD' | docker login -u '$DOCKER_USERNAME' --password-stdin
  - docker build -t yingrui205/sast-app-api:$TRAVIS_COMMIT .
  - docker push yingrui205/sast-app-api:$TRAVIS_COMMIT
